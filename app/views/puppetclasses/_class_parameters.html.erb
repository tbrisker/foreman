<% lookup_keys = overridable_lookup_keys(puppetclass, obj) %>
<% lookup_keys.each_with_index do |lookup_key, index| %>
  <% lookup_value = lookup_value(obj, lookup_key) %>
  <% overridden = lookup_key.overridden?(obj) %>
  <% disabled = can_edit_params? && !overridden %>
  <tr id="puppetclass_<%= puppetclass.id %>_params[<%= lookup_key.id %>]"
    class="fields <%= 'overridden' if overridden %>">
    <%= class_parameters_table_title(puppetclass.name, lookup_keys.size) if index == 0 %>
    <td class="ellipsis param_name">
      <%= lookup_key.key %>
    </td>
    <%= lookup_value_errors(lookup_value) do %>
      <div class="input-group">
        <%= lookup_key_with_diagnostic(obj, lookup_key, lookup_value) %>
        <span class="input-group-btn">
          <%= fullscreen_button("$(this).parent().prev()") %>
          <%= override_toggle(overridden) %>
        </span>
      </div>
    <% end %>
    <td class="ca">
      <%= use_puppet_default_check_box(lookup_key, lookup_value, disabled) %>
      <%= remove_lookup_value_fields(lookup_key, lookup_value, disabled) %>
    </td>
  </tr>
<% end %>
